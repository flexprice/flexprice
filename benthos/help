#!/bin/bash
# Quick helper to show usage

cat << 'EOF'
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Benthos-Flexprice Collector - Quick Start               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“ SETUP (once):
   
   1. Create .env file with your credentials:
      
      cat > .env << 'ENVFILE'
      export FLEXPRICE_KAFKA_BROKERS="your-broker.confluent.cloud:9092"
      export FLEXPRICE_KAFKA_SASL_USER="RBWUPLCZBZJDGJMF"
      export FLEXPRICE_KAFKA_SASL_PASSWORD="your-password"
      export FLEXPRICE_API_KEY="your-api-key"
      export FLEXPRICE_API_HOST="api.cloud.flexprice.io"
      ENVFILE

   2. Load credentials:
      source .env

ðŸš€ RUN:

   Terminal 1 - Start Benthos service:
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ./benthos-flexprice -c kafka-staging.yaml
   
   (Keep this running - it consumes from Kafka)

   Terminal 2 - Send test events:
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ./send-events 10    # Send 10 events
   ./send-events 50    # Send 50 events
   ./send-events 1     # Send 1 event

ðŸ” VERIFY:

   â€¢ Check Benthos logs (Terminal 1) for "Event accepted"
   â€¢ Go to: https://app.cloud.flexprice.io/events
   â€¢ Filter by source: "kafka-staging-benthos"
   â€¢ Look for customers: test-customer-0, test-customer-1, test-customer-2

ðŸ“š More details: cat QUICKSTART.md

EOF

