# Custom Pricing Unit PRD

### _Pricing Workflow Enhancement with Fiat Currency–Based Custom Pricing Units_

## 1. Overview
This enhancement introduces fiat currency–based Custom Pricing Units to the pricing workflow. By allowing tenants to define their own pricing units—anchored to supported fiat currencies— businesses can create rate cards that better reflect the unique value and structure of their products and services, regardless of customer geography.

## 2. Current System Analysis
The system currently:
- Supports multiple fiat currencies defined in `CURRENCY_CONFIG`
- Has robust currency handling with precision and symbol management
- Implements currency validation and formatting
- Has wallet-based credit system with conversion rates

## 3. Feature Requirements

### 3.1 Core Functionality
1. **Custom Currency Creation**
   ```sql
   CREATE TABLE custom_currency (
       id VARCHAR(255) PRIMARY KEY,
       name VARCHAR(255) NOT NULL,
       code VARCHAR(3) NOT NULL,
       symbol VARCHAR(10) NOT NULL,
       base_currency VARCHAR(3) NOT NULL,
       conversion_rate DECIMAL(20,8) NOT NULL,
       precision INT NOT NULL DEFAULT 0,
       tenant_id VARCHAR(255) NOT NULL,
       environment_id VARCHAR(255) NOT NULL,
       status VARCHAR(50) NOT NULL DEFAULT 'active',
       created_at TIMESTAMP NOT NULL,
       updated_at TIMESTAMP NOT NULL,
       created_by VARCHAR(255),
       updated_by VARCHAR(255),
       UNIQUE(code, tenant_id, environment_id)
   )
   ```

2. **Price Model Extension**
   ```go
   type Price struct {
       // ... existing fields ...
       CustomCurrency string `db:"custom_currency" json:"custom_currency,omitempty"`
       // Note: We'll keep the Currency field for base currency reference
   }
   ```

3. **Price Creation Request**
```go
type CreatePriceRequest struct {
	Amount             string                   `json:"amount"`
	Currency           string                   `json:"currency"omitempty,len=3"`
	CustomCurrency     string                   `json:"custom_currency_code,omitempty,len=3"`
    // ... existing fields ...
}
```

### 3.2 Validation Rules
1. Custom pricing unit code must:
   - Be 3 characters long
   - Be unique within tenant's environment
   - Not conflict with existing fiat currency codes
2. Base currency must be from supported fiat currencies
3. Conversion rate must be positive non-zero decimal
4. Precision must be between 0-8

### 3.3 Business Logic Changes

1. **Price Operations**
   - When custom pricing unit is specified:
     - Display amounts using custom unit symbol
     - Apply custom unit precision
     - Store base currency amount internally
     - Convert to/from base currency using conversion rate

2. **Wallet Operations**
   - Support custom pricing unit credits
   - Track balances in both custom units and base currency
   - Apply conversion rates during transactions

3. **Invoice Generation**
   - Show line items in custom pricing units
   - Include conversion details to base currency
   - Support mixed custom and fiat currency line items

### 3.4 API Endpoints
```go
config := v1Private.Group("/config")
{
    customUnits := config.Group("/custom-units")
    {
        customUnits.POST("", handlers.Config.CreateCustomUnit)
        customUnits.GET("", handlers.Config.ListCustomUnits)
        customUnits.PUT("/:id", handlers.Config.UpdateCustomUnit)
        customUnits.DELETE("/:id", handlers.Config.DeleteCustomUnit)
    }
}
```

## 4. Implementation Approach

### 4.1 Phase 1: Foundation
1. Create custom_pricing_units config, table and model
2. Implement CRUD operations for custom units
3. Extend Price model with custom unit support
4. Update currency handling utilities

### 4.2 Phase 2: Core Integration
1. Modify price calculation logic
2. Update display formatting
3. Implement conversion handling
4. Add validation rules

### 4.3 Phase 3: Extended Features
1. Wallet integration
2. Invoice formatting
3. Reporting adjustments
4. API documentation

## 5. Technical Considerations

### 5.1 Database Changes
1. New table for custom_pricing_units
2. Foreign key from prices to custom_pricing_units
3. Index optimizations for lookups

### 5.2 Code Structure
1. New package for custom pricing unit management
2. Extension of existing currency utilities
3. Interface updates for price operations

### 5.3 Migration Strategy
1. Add nullable custom_pricing_unit_id to prices table
2. Create custom_pricing_units table
3. Update existing price operations to handle custom units

## 6. Testing Requirements

1. **Unit Tests**
   - Custom unit validation
   - Price calculations with custom units
   - Currency conversion accuracy

2. **Integration Tests**
   - Price operations with custom units
   - Wallet transactions
   - Invoice generation

3. **Edge Cases**
   - Precision handling
   - Rounding behaviors
   - Currency conversion edge cases

## 7. Security Considerations

1. **Access Control**
   - Custom units scoped to tenant and environment
   - Validation of base currency permissions
   - Rate limiting on creation/updates

2. **Data Validation**
   - Strict input validation
   - Safe conversion handling
   - Prevention of duplicate codes

## 8. Performance Impact

1. **Additional Lookups**
   - Custom unit table joins
   - Conversion calculations

2. **Optimization Strategies**
   - Caching of custom unit data
   - Batch conversion operations
   - Indexed lookups



# Visuals

## _Approach_

<svg aria-roledescription="sequence" role="graphics-document document" viewBox="-50 -10 779.5 635" style="max-width: 779.5px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1751882076008-ky3tvi0j4"><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="549" x="489.5"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="581.5" x="564.5"><tspan dy="0" x="564.5">Price Service</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="209" stroke="#666" fill="#eaeaea" y="549" x="230.5"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="581.5" x="335"><tspan dy="0" x="335">Custom Unit Management</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="549" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="581.5" x="75"><tspan dy="0" x="75">Tenant</tspan></text></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="549" x2="564.5" y1="5" x1="564.5" id="actor29"/><g id="root-29"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="489.5"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="564.5"><tspan dy="0" x="564.5">Price Service</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="549" x2="335" y1="5" x1="335" id="actor28"/><g id="root-28"><rect class="actor" ry="3" rx="3" height="65" width="209" stroke="#666" fill="#eaeaea" y="0" x="230.5"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="335"><tspan dy="0" x="335">Custom Unit Management</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="549" x2="75" y1="5" x1="75" id="actor27"/><g id="root-27"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="75"><tspan dy="0" x="75">Tenant</tspan></text></g></g><style>#mermaid-svg-1751882076008-ky3tvi0j4{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 .error-icon{fill:#bf616a;}#mermaid-svg-1751882076008-ky3tvi0j4 .error-text{fill:#bf616a;stroke:#bf616a;}#mermaid-svg-1751882076008-ky3tvi0j4 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1751882076008-ky3tvi0j4 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1751882076008-ky3tvi0j4 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1751882076008-ky3tvi0j4 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1751882076008-ky3tvi0j4 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1751882076008-ky3tvi0j4 .marker{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 .marker.cross{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1751882076008-ky3tvi0j4 .actor{stroke:hsl(210, 0%, 73.137254902%);fill:#81a1c1;}#mermaid-svg-1751882076008-ky3tvi0j4 text.actor&gt;tspan{fill:#191c22;stroke:none;}#mermaid-svg-1751882076008-ky3tvi0j4 .actor-line{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 #arrowhead path{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 .sequenceNumber{fill:rgba(204, 204, 204, 0.61);}#mermaid-svg-1751882076008-ky3tvi0j4 #sequencenumber{fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 #crosshead path{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882076008-ky3tvi0j4 .messageText{fill:rgba(204, 204, 204, 0.87);stroke:none;}#mermaid-svg-1751882076008-ky3tvi0j4 .labelBox{stroke:#454545;fill:#141414;}#mermaid-svg-1751882076008-ky3tvi0j4 .labelText,#mermaid-svg-1751882076008-ky3tvi0j4 .labelText&gt;tspan{fill:rgba(204, 204, 204, 0.87);stroke:none;}#mermaid-svg-1751882076008-ky3tvi0j4 .loopText,#mermaid-svg-1751882076008-ky3tvi0j4 .loopText&gt;tspan{fill:#d8dee9;stroke:none;}#mermaid-svg-1751882076008-ky3tvi0j4 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:#454545;fill:#454545;}#mermaid-svg-1751882076008-ky3tvi0j4 .note{stroke:#2a2a2a;fill:#1a1a1a;}#mermaid-svg-1751882076008-ky3tvi0j4 .noteText,#mermaid-svg-1751882076008-ky3tvi0j4 .noteText&gt;tspan{fill:rgba(204, 204, 204, 0.87);stroke:none;}#mermaid-svg-1751882076008-ky3tvi0j4 .activation0{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;}#mermaid-svg-1751882076008-ky3tvi0j4 .activation1{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;}#mermaid-svg-1751882076008-ky3tvi0j4 .activation2{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;}#mermaid-svg-1751882076008-ky3tvi0j4 .actorPopupMenu{position:absolute;}#mermaid-svg-1751882076008-ky3tvi0j4 .actorPopupMenuPanel{position:absolute;fill:#81a1c1;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-svg-1751882076008-ky3tvi0j4 .actor-man line{stroke:hsl(210, 0%, 73.137254902%);fill:#81a1c1;}#mermaid-svg-1751882076008-ky3tvi0j4 .actor-man circle,#mermaid-svg-1751882076008-ky3tvi0j4 line{stroke:hsl(210, 0%, 73.137254902%);fill:#81a1c1;stroke-width:2px;}#mermaid-svg-1751882076008-ky3tvi0j4 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g/><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"/></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"/></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"/></symbol></defs><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="7.9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker refY="4.5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="15.5" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"/></marker></defs><g><rect class="note" ry="0" rx="0" height="39" width="539.5" stroke="#666" fill="#EDF2AE" y="75" x="50"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="320"><tspan x="320">Step 1: Setup Custom Unit (One-time)</tspan></text></g><g><rect class="note" ry="0" rx="0" height="39" width="539.5" stroke="#666" fill="#EDF2AE" y="220" x="50"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="225" x="320"><tspan x="320">Step 2: Use in Price Operations</tspan></text></g><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="129" x="204">Create Custom Unit (CCT)</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="162" x2="331" y1="162" x1="76"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="177" x="207">Custom Unit Created</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="210" x2="79" y1="210" x1="334"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="274" x="318">POST /prices (with custom_unit)</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="307" x2="560.5" y1="307" x1="76"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="322" x="451">Validate Custom Unit</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="355" x2="339" y1="355" x1="563.5"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="370" x="448">Unit Details</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="403" x2="560.5" y1="403" x1="336"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="418" x="566">Process Price with Custom Unit</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 565.5,451 C 625.5,441 625.5,481 565.5,471"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="496" x="321">Price Created</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="529" x2="79" y1="529" x1="563.5"/></svg>

## _Custom Pricing Unit Creation_

<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 409.173828125 934.0546875" style="max-width: 409.173828125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1751874818468-rmqtvxor5"><style>#mermaid-svg-1751874818468-rmqtvxor5{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874818468-rmqtvxor5 .error-icon{fill:#bf616a;}#mermaid-svg-1751874818468-rmqtvxor5 .error-text{fill:#bf616a;stroke:#bf616a;}#mermaid-svg-1751874818468-rmqtvxor5 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1751874818468-rmqtvxor5 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1751874818468-rmqtvxor5 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1751874818468-rmqtvxor5 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1751874818468-rmqtvxor5 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1751874818468-rmqtvxor5 .marker{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874818468-rmqtvxor5 .marker.cross{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874818468-rmqtvxor5 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1751874818468-rmqtvxor5 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874818468-rmqtvxor5 .cluster-label text{fill:#ffffff;}#mermaid-svg-1751874818468-rmqtvxor5 .cluster-label span,#mermaid-svg-1751874818468-rmqtvxor5 p{color:#ffffff;}#mermaid-svg-1751874818468-rmqtvxor5 .label text,#mermaid-svg-1751874818468-rmqtvxor5 span,#mermaid-svg-1751874818468-rmqtvxor5 p{fill:rgba(204, 204, 204, 0.87);color:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874818468-rmqtvxor5 .node rect,#mermaid-svg-1751874818468-rmqtvxor5 .node circle,#mermaid-svg-1751874818468-rmqtvxor5 .node ellipse,#mermaid-svg-1751874818468-rmqtvxor5 .node polygon,#mermaid-svg-1751874818468-rmqtvxor5 .node path{fill:#1a1a1a;stroke:#2a2a2a;stroke-width:1px;}#mermaid-svg-1751874818468-rmqtvxor5 .flowchart-label text{text-anchor:middle;}#mermaid-svg-1751874818468-rmqtvxor5 .node .label{text-align:center;}#mermaid-svg-1751874818468-rmqtvxor5 .node.clickable{cursor:pointer;}#mermaid-svg-1751874818468-rmqtvxor5 .arrowheadPath{fill:#e5e5e5;}#mermaid-svg-1751874818468-rmqtvxor5 .edgePath .path{stroke:rgba(204, 204, 204, 0.87);stroke-width:2.0px;}#mermaid-svg-1751874818468-rmqtvxor5 .flowchart-link{stroke:rgba(204, 204, 204, 0.87);fill:none;}#mermaid-svg-1751874818468-rmqtvxor5 .edgeLabel{background-color:#1a1a1a99;text-align:center;}#mermaid-svg-1751874818468-rmqtvxor5 .edgeLabel rect{opacity:0.5;background-color:#1a1a1a99;fill:#1a1a1a99;}#mermaid-svg-1751874818468-rmqtvxor5 .labelBkg{background-color:rgba(26, 26, 26, 0.5);}#mermaid-svg-1751874818468-rmqtvxor5 .cluster rect{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;stroke-width:1px;}#mermaid-svg-1751874818468-rmqtvxor5 .cluster text{fill:#ffffff;}#mermaid-svg-1751874818468-rmqtvxor5 .cluster span,#mermaid-svg-1751874818468-rmqtvxor5 p{color:#ffffff;}#mermaid-svg-1751874818468-rmqtvxor5 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#88c0d0;border:1px solid #30373a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1751874818468-rmqtvxor5 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874818468-rmqtvxor5 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751874818468-rmqtvxor5_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751874818468-rmqtvxor5_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1751874818468-rmqtvxor5_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1751874818468-rmqtvxor5_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M156.967,33.5L156.967,37.667C156.967,41.833,156.967,50.167,156.967,57.617C156.967,65.067,156.967,71.633,156.967,74.917L156.967,78.2"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M156.967,117L156.967,121.167C156.967,125.333,156.967,133.667,156.967,141.117C156.967,148.567,156.967,155.133,156.967,158.417L156.967,161.7"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M156.967,200.5L156.967,204.667C156.967,208.833,156.967,217.167,157.033,224.7C157.099,232.234,157.231,238.967,157.297,242.334L157.363,245.701"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M105.686,412.274L92.041,426.529C78.396,440.784,51.106,469.294,37.461,492.05C23.816,514.805,23.816,531.805,23.816,548.805C23.816,565.805,23.816,582.805,26.727,596.252C29.638,609.699,35.459,619.593,38.369,624.54L41.28,629.487"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M194.621,426.9L200.911,438.718C207.202,450.535,219.783,474.17,226.073,490.812C232.363,507.455,232.363,517.105,232.363,521.93L232.363,526.755"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-E" id="L-F-E-0" d="M198.487,565.555L186.943,571.263C175.398,576.971,152.308,588.388,133.056,599.31C113.804,610.232,98.389,620.658,90.682,625.872L82.975,631.085"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M246.329,565.555L251.088,571.263C255.847,576.971,265.366,588.388,270.125,598.921C274.885,609.455,274.885,619.105,274.885,623.93L274.885,628.755"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M274.885,667.555L274.885,671.721C274.885,675.888,274.885,684.221,274.885,691.671C274.885,699.121,274.885,705.688,274.885,708.971L274.885,712.255"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M274.885,751.055L274.885,755.221C274.885,759.388,274.885,767.721,274.885,775.171C274.885,782.621,274.885,789.188,274.885,792.471L274.885,795.755"/><path marker-end="url(#mermaid-svg-1751874818468-rmqtvxor5_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-J" id="L-I-J-0" d="M274.885,834.555L274.885,838.721C274.885,842.888,274.885,851.221,274.885,858.671C274.885,866.121,274.885,872.688,274.885,875.971L274.885,879.255"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(23.81640625, 548.8046875)" class="edgeLabel"><g transform="translate(-23.81640625, -9.25)" class="label"><foreignObject height="18.5" width="47.6328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Invalid</span></div></foreignObject></g></g><g transform="translate(232.36328125, 497.8046875)" class="edgeLabel"><g transform="translate(-17.37109375, -9.25)" class="label"><foreignObject height="18.5" width="34.7421875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Valid</span></div></foreignObject></g></g><g transform="translate(129.21875, 599.8046875)" class="edgeLabel"><g transform="translate(-40.01171875, -9.25)" class="label"><foreignObject height="18.5" width="80.0234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Not Unique</span></div></foreignObject></g></g><g transform="translate(274.884765625, 599.8046875)" class="edgeLabel"><g transform="translate(-25.03125, -9.25)" class="label"><foreignObject height="18.5" width="50.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Unique</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(156.966796875, 16.75)" id="flowchart-A-60" class="node default default flowchart-label"><rect height="33.5" width="50.0078125" y="-16.75" x="-25.00390625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-17.50390625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="35.0078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Start</span></div></foreignObject></g></g><g transform="translate(156.966796875, 100.25)" id="flowchart-B-61" class="node default default flowchart-label"><rect height="33.5" width="285.3359375" y="-16.75" x="-142.66796875" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-135.16796875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="270.3359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Tenant Initiates Custom Unit Creation</span></div></foreignObject></g></g><g transform="translate(156.966796875, 183.75)" id="flowchart-C-63" class="node default default flowchart-label"><rect height="33.5" width="128.3984375" y="-16.75" x="-64.19921875" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-56.69921875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="113.3984375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Input Validation</span></div></foreignObject></g></g><g transform="translate(156.966796875, 357.02734375)" id="flowchart-D-65" class="node default default flowchart-label"><polygon style="fill:white;stroke:black;" transform="translate(-106.52734375,106.52734375)" class="label-container" points="106.52734375,0 213.0546875,-106.52734375 106.52734375,-213.0546875 0,-106.52734375"/><g transform="translate(-82.27734375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="164.5546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Validate Base Currency</span></div></foreignObject></g></g><g transform="translate(53.822265625, 650.8046875)" id="flowchart-E-67" class="node default default flowchart-label"><rect height="33.5" width="103.0703125" y="-16.75" x="-51.53515625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-44.03515625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="88.0703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Return Error</span></div></foreignObject></g></g><g transform="translate(232.36328125, 548.8046875)" id="flowchart-F-69" class="node default default flowchart-label"><rect height="33.5" width="183.953125" y="-16.75" x="-91.9765625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-84.4765625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="168.953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check Code Uniqueness</span></div></foreignObject></g></g><g transform="translate(274.884765625, 650.8046875)" id="flowchart-G-73" class="node default default flowchart-label"><rect height="33.5" width="209.5078125" y="-16.75" x="-104.75390625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-97.25390625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="194.5078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create Custom Unit Record</span></div></foreignObject></g></g><g transform="translate(274.884765625, 734.3046875)" id="flowchart-H-75" class="node default default flowchart-label"><rect height="33.5" width="197.265625" y="-16.75" x="-98.6328125" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-91.1328125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="182.265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Update Currency Registry</span></div></foreignObject></g></g><g transform="translate(274.884765625, 817.8046875)" id="flowchart-I-77" class="node default default flowchart-label"><rect height="33.5" width="236.578125" y="-16.75" x="-118.2890625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-110.7890625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="221.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Enable for Tenant Environment</span></div></foreignObject></g></g><g transform="translate(274.884765625, 901.3046875)" id="flowchart-J-79" class="node default default flowchart-label"><rect height="33.5" width="41.2265625" y="-16.75" x="-20.61328125" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-13.11328125, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="26.2265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">End</span></div></foreignObject></g></g></g></g></g></svg>


## _Price Calculation Flow_
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 553.12109375 787.71875" style="max-width: 553.12109375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1751882088293-0y4lqkhaa"><style>#mermaid-svg-1751882088293-0y4lqkhaa{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882088293-0y4lqkhaa .error-icon{fill:#bf616a;}#mermaid-svg-1751882088293-0y4lqkhaa .error-text{fill:#bf616a;stroke:#bf616a;}#mermaid-svg-1751882088293-0y4lqkhaa .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1751882088293-0y4lqkhaa .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1751882088293-0y4lqkhaa .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1751882088293-0y4lqkhaa .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1751882088293-0y4lqkhaa .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1751882088293-0y4lqkhaa .marker{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882088293-0y4lqkhaa .marker.cross{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882088293-0y4lqkhaa svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1751882088293-0y4lqkhaa .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882088293-0y4lqkhaa .cluster-label text{fill:#ffffff;}#mermaid-svg-1751882088293-0y4lqkhaa .cluster-label span,#mermaid-svg-1751882088293-0y4lqkhaa p{color:#ffffff;}#mermaid-svg-1751882088293-0y4lqkhaa .label text,#mermaid-svg-1751882088293-0y4lqkhaa span,#mermaid-svg-1751882088293-0y4lqkhaa p{fill:rgba(204, 204, 204, 0.87);color:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882088293-0y4lqkhaa .node rect,#mermaid-svg-1751882088293-0y4lqkhaa .node circle,#mermaid-svg-1751882088293-0y4lqkhaa .node ellipse,#mermaid-svg-1751882088293-0y4lqkhaa .node polygon,#mermaid-svg-1751882088293-0y4lqkhaa .node path{fill:#1a1a1a;stroke:#2a2a2a;stroke-width:1px;}#mermaid-svg-1751882088293-0y4lqkhaa .flowchart-label text{text-anchor:middle;}#mermaid-svg-1751882088293-0y4lqkhaa .node .label{text-align:center;}#mermaid-svg-1751882088293-0y4lqkhaa .node.clickable{cursor:pointer;}#mermaid-svg-1751882088293-0y4lqkhaa .arrowheadPath{fill:#e5e5e5;}#mermaid-svg-1751882088293-0y4lqkhaa .edgePath .path{stroke:rgba(204, 204, 204, 0.87);stroke-width:2.0px;}#mermaid-svg-1751882088293-0y4lqkhaa .flowchart-link{stroke:rgba(204, 204, 204, 0.87);fill:none;}#mermaid-svg-1751882088293-0y4lqkhaa .edgeLabel{background-color:#1a1a1a99;text-align:center;}#mermaid-svg-1751882088293-0y4lqkhaa .edgeLabel rect{opacity:0.5;background-color:#1a1a1a99;fill:#1a1a1a99;}#mermaid-svg-1751882088293-0y4lqkhaa .labelBkg{background-color:rgba(26, 26, 26, 0.5);}#mermaid-svg-1751882088293-0y4lqkhaa .cluster rect{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;stroke-width:1px;}#mermaid-svg-1751882088293-0y4lqkhaa .cluster text{fill:#ffffff;}#mermaid-svg-1751882088293-0y4lqkhaa .cluster span,#mermaid-svg-1751882088293-0y4lqkhaa p{color:#ffffff;}#mermaid-svg-1751882088293-0y4lqkhaa div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:#88c0d0;border:1px solid #30373a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-1751882088293-0y4lqkhaa .flowchartTitleText{text-anchor:middle;font-size:18px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751882088293-0y4lqkhaa :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751882088293-0y4lqkhaa_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-svg-1751882088293-0y4lqkhaa_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1751882088293-0y4lqkhaa_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-svg-1751882088293-0y4lqkhaa_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M242.57,33.5L242.57,37.667C242.57,41.833,242.57,50.167,242.636,57.7C242.702,65.234,242.834,71.967,242.9,75.334L242.966,78.701"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M185.399,241.548L167.624,256.785C149.848,272.022,114.297,302.495,96.522,326.232C78.746,349.969,78.746,366.969,78.746,383.969C78.746,400.969,78.746,417.969,78.746,434.969C78.746,451.969,78.746,468.969,78.746,485.969C78.746,502.969,78.746,519.969,78.746,536.969C78.746,553.969,78.746,570.969,78.746,586.427C78.746,601.885,78.746,615.802,78.746,626.044C78.746,636.285,78.746,642.852,78.746,646.135L78.746,649.419"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-D" id="L-B-D-0" d="M277.592,264.697L282.923,276.075C288.254,287.454,298.915,310.211,304.246,326.415C309.576,342.619,309.576,352.269,309.576,357.094L309.576,361.919"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M266.621,400.719L251.982,406.427C237.343,412.135,208.065,423.552,193.426,437.76C178.787,451.969,178.787,468.969,178.787,485.969C178.787,502.969,178.787,519.969,180.891,533.365C182.994,546.762,187.201,556.556,189.305,561.452L191.408,566.349"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-F" id="L-D-F-0" d="M336.089,400.719L345.124,406.427C354.159,412.135,372.23,423.552,381.265,434.085C390.301,444.619,390.301,454.269,390.301,459.094L390.301,463.919"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-E" id="L-F-E-0" d="M354.541,502.719L342.354,508.427C330.167,514.135,305.794,525.552,285.318,536.497C264.843,547.442,248.266,557.915,239.977,563.151L231.688,568.388"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M400.349,502.719L403.773,508.427C407.197,514.135,414.046,525.552,417.47,536.085C420.895,546.619,420.895,556.269,420.895,561.094L420.895,565.919"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-H" id="L-G-H-0" d="M420.895,604.719L420.895,608.885C420.895,613.052,420.895,621.385,420.895,628.835C420.895,636.285,420.895,642.852,420.895,646.135L420.895,649.419"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-I" id="L-C-I-0" d="M78.746,688.219L78.746,692.385C78.746,696.552,78.746,704.885,96.623,713.608C114.499,722.33,150.252,731.442,168.128,735.997L186.005,740.553"/><path marker-end="url(#mermaid-svg-1751882088293-0y4lqkhaa_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-H LE-I" id="L-H-I-0" d="M420.895,688.219L420.895,692.385C420.895,696.552,420.895,704.885,400.606,713.802C380.317,722.719,339.738,732.219,319.449,736.969L299.16,741.72"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(78.74609375, 485.96875)" class="edgeLabel"><g transform="translate(-9.3984375, -9.25)" class="label"><foreignObject height="18.5" width="18.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g transform="translate(309.576171875, 332.96875)" class="edgeLabel"><g transform="translate(-11.32421875, -9.25)" class="label"><foreignObject height="18.5" width="22.6484375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(178.787109375, 485.96875)" class="edgeLabel"><g transform="translate(-36.671875, -9.25)" class="label"><foreignObject height="18.5" width="73.34375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Not Found</span></div></foreignObject></g></g><g transform="translate(390.30078125, 434.96875)" class="edgeLabel"><g transform="translate(-21.69140625, -9.25)" class="label"><foreignObject height="18.5" width="43.3828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Found</span></div></foreignObject></g></g><g transform="translate(281.419921875, 536.96875)" class="edgeLabel"><g transform="translate(-23.81640625, -9.25)" class="label"><foreignObject height="18.5" width="47.6328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Invalid</span></div></foreignObject></g></g><g transform="translate(420.89453125, 536.96875)" class="edgeLabel"><g transform="translate(-17.37109375, -9.25)" class="label"><foreignObject height="18.5" width="34.7421875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Valid</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(242.5703125, 16.75)" id="flowchart-A-572" class="node default default flowchart-label"><rect height="33.5" width="177.9921875" y="-16.75" x="-88.99609375" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-81.49609375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="162.9921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Price Creation Request</span></div></foreignObject></g></g><g transform="translate(242.5703125, 191.109375)" id="flowchart-B-573" class="node default default flowchart-label"><polygon style="fill:white;stroke:black;" transform="translate(-107.609375,107.609375)" class="label-container" points="107.609375,0 215.21875,-107.609375 107.609375,-215.21875 0,-107.609375"/><g transform="translate(-83.359375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="166.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Has custom_unit_code?</span></div></foreignObject></g></g><g transform="translate(78.74609375, 671.46875)" id="flowchart-C-575" class="node default default flowchart-label"><rect height="33.5" width="157.4921875" y="-16.75" x="-78.74609375" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-71.24609375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="142.4921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Standard Price Flow</span></div></foreignObject></g></g><g transform="translate(309.576171875, 383.96875)" id="flowchart-D-577" class="node default default flowchart-label"><rect height="33.5" width="198.0234375" y="-16.75" x="-99.01171875" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-91.51171875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="183.0234375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Fetch Custom Unit Config</span></div></foreignObject></g></g><g transform="translate(200.6953125, 587.96875)" id="flowchart-E-579" class="node default default flowchart-label"><rect height="33.5" width="103.0703125" y="-16.75" x="-51.53515625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-44.03515625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="88.0703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Return Error</span></div></foreignObject></g></g><g transform="translate(390.30078125, 485.96875)" id="flowchart-F-581" class="node default default flowchart-label"><rect height="33.5" width="179.5546875" y="-16.75" x="-89.77734375" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-82.27734375, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="164.5546875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Validate Base Currency</span></div></foreignObject></g></g><g transform="translate(420.89453125, 587.96875)" id="flowchart-G-585" class="node default default flowchart-label"><rect height="33.5" width="232.453125" y="-16.75" x="-116.2265625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-108.7265625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="217.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Create Price with Custom Unit</span></div></foreignObject></g></g><g transform="translate(420.89453125, 671.46875)" id="flowchart-H-587" class="node default default flowchart-label"><rect height="33.5" width="210.6328125" y="-16.75" x="-105.31640625" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-97.81640625, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="195.6328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Apply Custom Display Rules</span></div></foreignObject></g></g><g transform="translate(242.5703125, 754.96875)" id="flowchart-I-589" class="node default default flowchart-label"><rect height="33.5" width="102.859375" y="-16.75" x="-51.4296875" ry="0" rx="0" style="fill:white;stroke:black;" class="basic label-container"/><g transform="translate(-43.9296875, -9.25)" style="" class="label"><rect/><foreignObject height="18.5" width="87.859375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Return Price</span></div></foreignObject></g></g></g></g></g></svg>


## _Invoice Generation with Mixed Units_

<svg aria-roledescription="sequence" role="graphics-document document" viewBox="-50 -10 1007 693" style="max-width: 1007px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1751874827148-rgpc41ly4"><g><rect class="actor" ry="3" rx="3" height="65" width="168" stroke="#666" fill="#eaeaea" y="607" x="739"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="639.5" x="823"><tspan dy="0" x="823">Custom Unit Service</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="607" x="504"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="639.5" x="579"><tspan dy="0" x="579">Price Service</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="607" x="256"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="639.5" x="331"><tspan dy="0" x="331">Invoice Service</tspan></text></g><g><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="607" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="639.5" x="75"><tspan dy="0" x="75">Client</tspan></text></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="607" x2="823" y1="5" x1="823" id="actor11"/><g id="root-11"><rect class="actor" ry="3" rx="3" height="65" width="168" stroke="#666" fill="#eaeaea" y="0" x="739"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="823"><tspan dy="0" x="823">Custom Unit Service</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="607" x2="579" y1="5" x1="579" id="actor10"/><g id="root-10"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="504"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="579"><tspan dy="0" x="579">Price Service</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="607" x2="331" y1="5" x1="331" id="actor9"/><g id="root-9"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="256"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="331"><tspan dy="0" x="331">Invoice Service</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="607" x2="75" y1="5" x1="75" id="actor8"/><g id="root-8"><rect class="actor" ry="3" rx="3" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="0"/><text style="text-anchor: middle; font-size: 16px; font-weight: 400;" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="75"><tspan dy="0" x="75">Client</tspan></text></g></g><style>#mermaid-svg-1751874827148-rgpc41ly4{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 .error-icon{fill:#bf616a;}#mermaid-svg-1751874827148-rgpc41ly4 .error-text{fill:#bf616a;stroke:#bf616a;}#mermaid-svg-1751874827148-rgpc41ly4 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1751874827148-rgpc41ly4 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1751874827148-rgpc41ly4 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1751874827148-rgpc41ly4 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1751874827148-rgpc41ly4 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1751874827148-rgpc41ly4 .marker{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 .marker.cross{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1751874827148-rgpc41ly4 .actor{stroke:hsl(210, 0%, 73.137254902%);fill:#81a1c1;}#mermaid-svg-1751874827148-rgpc41ly4 text.actor&gt;tspan{fill:#191c22;stroke:none;}#mermaid-svg-1751874827148-rgpc41ly4 .actor-line{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 #arrowhead path{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 .sequenceNumber{fill:rgba(204, 204, 204, 0.61);}#mermaid-svg-1751874827148-rgpc41ly4 #sequencenumber{fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 #crosshead path{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874827148-rgpc41ly4 .messageText{fill:rgba(204, 204, 204, 0.87);stroke:none;}#mermaid-svg-1751874827148-rgpc41ly4 .labelBox{stroke:#454545;fill:#141414;}#mermaid-svg-1751874827148-rgpc41ly4 .labelText,#mermaid-svg-1751874827148-rgpc41ly4 .labelText&gt;tspan{fill:rgba(204, 204, 204, 0.87);stroke:none;}#mermaid-svg-1751874827148-rgpc41ly4 .loopText,#mermaid-svg-1751874827148-rgpc41ly4 .loopText&gt;tspan{fill:#d8dee9;stroke:none;}#mermaid-svg-1751874827148-rgpc41ly4 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:#454545;fill:#454545;}#mermaid-svg-1751874827148-rgpc41ly4 .note{stroke:#2a2a2a;fill:#1a1a1a;}#mermaid-svg-1751874827148-rgpc41ly4 .noteText,#mermaid-svg-1751874827148-rgpc41ly4 .noteText&gt;tspan{fill:rgba(204, 204, 204, 0.87);stroke:none;}#mermaid-svg-1751874827148-rgpc41ly4 .activation0{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;}#mermaid-svg-1751874827148-rgpc41ly4 .activation1{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;}#mermaid-svg-1751874827148-rgpc41ly4 .activation2{fill:rgba(64, 64, 64, 0.47);stroke:#30373a;}#mermaid-svg-1751874827148-rgpc41ly4 .actorPopupMenu{position:absolute;}#mermaid-svg-1751874827148-rgpc41ly4 .actorPopupMenuPanel{position:absolute;fill:#81a1c1;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-svg-1751874827148-rgpc41ly4 .actor-man line{stroke:hsl(210, 0%, 73.137254902%);fill:#81a1c1;}#mermaid-svg-1751874827148-rgpc41ly4 .actor-man circle,#mermaid-svg-1751874827148-rgpc41ly4 line{stroke:hsl(210, 0%, 73.137254902%);fill:#81a1c1;stroke-width:2px;}#mermaid-svg-1751874827148-rgpc41ly4 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g/><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"/></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"/></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"/></symbol></defs><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="7.9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker refY="4.5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray: 0, 0;" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="15.5" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"/></marker></defs><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="202">Generate Invoice Request</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="113" x2="327" y1="113" x1="76"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="128" x="454">Fetch Price Items</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="161" x2="575" y1="161" x1="332"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="176" x="700">Get Custom Unit Details</text><line style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="209" x2="819" y1="209" x1="580"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="224" x="703">Return Unit Configs</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="257" x2="583" y1="257" x1="822"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="272" x="457">Return Processed Prices</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="305" x2="335" y1="305" x1="578"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="320" x="332">Group by Currency Type</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 332,353 C 392,343 392,383 332,373"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="398" x="332">Calculate Subtotals</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 332,431 C 392,421 392,461 332,451"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="476" x="332">Apply Conversions</text><path style="fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" d="M 332,509 C 392,499 392,539 332,529"/><text style="font-size: 16px; font-weight: 400;" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="554" x="205">Return Invoice</text><line style="stroke-dasharray: 3, 3; fill: none;" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="587" x2="79" y1="587" x1="330"/></svg>


## _Data Model Relationships_

<svg aria-roledescription="classDiagram" role="graphics-document document" viewBox="0 0 286.2890625 685.5" style="max-width: 286.2890625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-svg-1751874832004-igylen3op"><style>#mermaid-svg-1751874832004-igylen3op{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874832004-igylen3op .error-icon{fill:#bf616a;}#mermaid-svg-1751874832004-igylen3op .error-text{fill:#bf616a;stroke:#bf616a;}#mermaid-svg-1751874832004-igylen3op .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-1751874832004-igylen3op .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-1751874832004-igylen3op .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-1751874832004-igylen3op .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-1751874832004-igylen3op .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-1751874832004-igylen3op .marker{fill:rgba(204, 204, 204, 0.87);stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874832004-igylen3op .marker.cross{stroke:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874832004-igylen3op svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-1751874832004-igylen3op g.classGroup text{fill:#2a2a2a;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-svg-1751874832004-igylen3op g.classGroup text .title{font-weight:bolder;}#mermaid-svg-1751874832004-igylen3op .nodeLabel,#mermaid-svg-1751874832004-igylen3op .edgeLabel{color:#d8dee9;}#mermaid-svg-1751874832004-igylen3op .edgeLabel .label rect{fill:#1a1a1a;}#mermaid-svg-1751874832004-igylen3op .label text{fill:#d8dee9;}#mermaid-svg-1751874832004-igylen3op .edgeLabel .label span{background:#1a1a1a;}#mermaid-svg-1751874832004-igylen3op .classTitle{font-weight:bolder;}#mermaid-svg-1751874832004-igylen3op .node rect,#mermaid-svg-1751874832004-igylen3op .node circle,#mermaid-svg-1751874832004-igylen3op .node ellipse,#mermaid-svg-1751874832004-igylen3op .node polygon,#mermaid-svg-1751874832004-igylen3op .node path{fill:#1a1a1a;stroke:#2a2a2a;stroke-width:1px;}#mermaid-svg-1751874832004-igylen3op .divider{stroke:#2a2a2a;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op g.clickable{cursor:pointer;}#mermaid-svg-1751874832004-igylen3op g.classGroup rect{fill:#1a1a1a;stroke:#2a2a2a;}#mermaid-svg-1751874832004-igylen3op g.classGroup line{stroke:#2a2a2a;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op .classLabel .box{stroke:none;stroke-width:0;fill:#1a1a1a;opacity:0.5;}#mermaid-svg-1751874832004-igylen3op .classLabel .label{fill:#2a2a2a;font-size:10px;}#mermaid-svg-1751874832004-igylen3op .relation{stroke:rgba(204, 204, 204, 0.87);stroke-width:1;fill:none;}#mermaid-svg-1751874832004-igylen3op .dashed-line{stroke-dasharray:3;}#mermaid-svg-1751874832004-igylen3op .dotted-line{stroke-dasharray:1 2;}#mermaid-svg-1751874832004-igylen3op #compositionStart,#mermaid-svg-1751874832004-igylen3op .composition{fill:rgba(204, 204, 204, 0.87)!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #compositionEnd,#mermaid-svg-1751874832004-igylen3op .composition{fill:rgba(204, 204, 204, 0.87)!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #dependencyStart,#mermaid-svg-1751874832004-igylen3op .dependency{fill:rgba(204, 204, 204, 0.87)!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #dependencyStart,#mermaid-svg-1751874832004-igylen3op .dependency{fill:rgba(204, 204, 204, 0.87)!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #extensionStart,#mermaid-svg-1751874832004-igylen3op .extension{fill:transparent!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #extensionEnd,#mermaid-svg-1751874832004-igylen3op .extension{fill:transparent!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #aggregationStart,#mermaid-svg-1751874832004-igylen3op .aggregation{fill:transparent!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #aggregationEnd,#mermaid-svg-1751874832004-igylen3op .aggregation{fill:transparent!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #lollipopStart,#mermaid-svg-1751874832004-igylen3op .lollipop{fill:#1a1a1a!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op #lollipopEnd,#mermaid-svg-1751874832004-igylen3op .lollipop{fill:#1a1a1a!important;stroke:rgba(204, 204, 204, 0.87)!important;stroke-width:1;}#mermaid-svg-1751874832004-igylen3op .edgeTerminals{font-size:11px;}#mermaid-svg-1751874832004-igylen3op .classTitleText{text-anchor:middle;font-size:18px;fill:rgba(204, 204, 204, 0.87);}#mermaid-svg-1751874832004-igylen3op :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker aggregation classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-aggregationStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker aggregation classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-aggregationEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker extension classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-extensionStart"><path d="M 1,7 L18,13 V 1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker extension classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-extensionEnd"><path d="M 1,1 V 13 L18,7 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="18" class="marker composition classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-compositionStart"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="1" class="marker composition classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-compositionEnd"><path d="M 18,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="6" class="marker dependency classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-dependencyStart"><path d="M 5,7 L9,13 L1,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="13" class="marker dependency classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-dependencyEnd"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="13" class="marker lollipop classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-lollipopStart"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"/></marker></defs><defs><marker orient="auto" markerHeight="240" markerWidth="190" refY="7" refX="1" class="marker lollipop classDiagram" id="mermaid-svg-1751874832004-igylen3op_classDiagram-lollipopEnd"><circle r="6" cy="7" cx="7" fill="transparent" stroke="black"/></marker></defs><g class="root"><g class="clusters"/><g class="edgePaths"><path style="fill:none" class="edge-pattern-solid relation" id="id1" d="M142.553,439L142.553,444.708C142.553,450.417,142.553,461.833,142.553,473.25C142.553,484.667,142.553,496.083,142.553,501.792L142.553,507.5"/><path style="fill:none" class="edge-pattern-solid relation" id="id2" d="M62.48,110.5L62.48,116.208C62.48,121.917,62.48,133.333,65.263,144.75C68.046,156.167,73.612,167.583,76.395,173.292L79.177,179"/><path style="fill:none" class="edge-pattern-solid relation" id="id3" d="M222.625,110.5L222.625,116.208C222.625,121.917,222.625,133.333,219.842,144.75C217.059,156.167,211.494,167.583,208.711,173.292L205.928,179"/></g><g class="edgeLabels"><g transform="translate(142.552734375, 473.25)" class="edgeLabel"><g transform="translate(-11.8125, -9.25)" class="label"><foreignObject height="18.5" width="23.625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">has</span></span></div></foreignObject></g></g><g transform="translate(127.55273218750011, 456.499998125)" class="edgeTerminals"><g transform="translate(0, 0)" class="inner"><foreignObject style="width: 9px; height: 12px;"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">1</span></div></foreignObject></g></g><g transform="translate(152.55273218749988, 484.999998125)" class="edgeTerminals"><g transform="translate(0, 0)" class="inner"/><foreignObject style="width: 36px; height: 12px;"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">many</span></div></foreignObject></g><g transform="translate(62.48046875, 144.75)" class="edgeLabel"><g transform="translate(-17.85546875, -9.25)" class="label"><foreignObject height="18.5" width="35.7109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">owns</span></span></div></foreignObject></g></g><g transform="translate(47.64545850188016, 128.1032301517537)" class="edgeTerminals"><g transform="translate(0, 0)" class="inner"><foreignObject style="width: 9px; height: 12px;"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">1</span></div></foreignObject></g></g><g transform="translate(79.99199131200815, 151.69662094312525)" class="edgeTerminals"><g transform="translate(0, 0)" class="inner"/><foreignObject style="width: 36px; height: 12px;"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">many</span></div></foreignObject></g><g transform="translate(222.625, 144.75)" class="edgeLabel"><g transform="translate(-29.890625, -9.25)" class="label"><foreignObject height="18.5" width="59.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><span class="edgeLabel">contains</span></span></div></foreignObject></g></g><g transform="translate(207.46133912182856, 127.8209303850526)" class="edgeTerminals"><g transform="translate(0, 0)" class="inner"><foreignObject style="width: 9px; height: 12px;"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">1</span></div></foreignObject></g></g><g transform="translate(222.079745271467, 164.8427394897198)" class="edgeTerminals"><g transform="translate(0, 0)" class="inner"/><foreignObject style="width: 36px; height: 12px;"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">many</span></div></foreignObject></g></g><g class="nodes"><g transform="translate(142.552734375, 309)" id="classId-CustomPricingUnit-8" class="node default"><rect height="260" width="194.828125" y="-130" x="-97.4140625" class="outer title-state"/><line y2="-99.5" y1="-99.5" x2="97.4140625" x1="-97.4140625" class="divider"/><line y2="119" y1="119" x2="97.4140625" x1="-97.4140625" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -69.0625, -122.5)" height="18.5" width="138.125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">CustomPricingUnit</span></div></foreignObject><foreignObject transform="translate( -89.9140625, -88)" height="18.5" width="68.28125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String id</span></div></foreignObject><foreignObject transform="translate( -89.9140625, -65.5)" height="18.5" width="93.9609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String name</span></div></foreignObject><foreignObject transform="translate( -89.9140625, -43)" height="18.5" width="88.953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String code</span></div></foreignObject><foreignObject transform="translate( -89.9140625, -20.5)" height="18.5" width="104.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String symbol</span></div></foreignObject><foreignObject transform="translate( -89.9140625, 2)" height="18.5" width="151.359375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String baseCurrency</span></div></foreignObject><foreignObject transform="translate( -89.9140625, 24.5)" height="18.5" width="179.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Decimal conversionRate</span></div></foreignObject><foreignObject transform="translate( -89.9140625, 47)" height="18.5" width="97.4609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Int precision</span></div></foreignObject><foreignObject transform="translate( -89.9140625, 69.5)" height="18.5" width="115.4765625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String tenantId</span></div></foreignObject><foreignObject transform="translate( -89.9140625, 92)" height="18.5" width="158.6796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String environmentId</span></div></foreignObject></g></g><g transform="translate(142.552734375, 592.5)" id="classId-Price-9" class="node default"><rect height="170" width="212.7578125" y="-85" x="-106.37890625" class="outer title-state"/><line y2="-54.5" y1="-54.5" x2="106.37890625" x1="-106.37890625" class="divider"/><line y2="74" y1="74" x2="106.37890625" x1="-106.37890625" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -19.19140625, -77.5)" height="18.5" width="38.3828125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Price</span></div></foreignObject><foreignObject transform="translate( -98.87890625, -43)" height="18.5" width="68.28125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String id</span></div></foreignObject><foreignObject transform="translate( -98.87890625, -20.5)" height="18.5" width="124.7421875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+Decimal amount</span></div></foreignObject><foreignObject transform="translate( -98.87890625, 2)" height="18.5" width="117.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String currency</span></div></foreignObject><foreignObject transform="translate( -98.87890625, 24.5)" height="18.5" width="197.7578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String customPricingUnitId</span></div></foreignObject><foreignObject transform="translate( -98.87890625, 47)" height="18.5" width="159.8203125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String displayAmount</span></div></foreignObject></g></g><g transform="translate(62.48046875, 59.25)" id="classId-Tenant-10" class="node default"><rect height="102.5" width="108.9609375" y="-51.25" x="-54.48046875" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="54.48046875" x1="-54.48046875" class="divider"/><line y2="40.25" y1="40.25" x2="54.48046875" x1="-54.48046875" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -25.484375, -43.75)" height="18.5" width="50.96875" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Tenant</span></div></foreignObject><foreignObject transform="translate( -46.98046875, -9.25)" height="18.5" width="68.28125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String id</span></div></foreignObject><foreignObject transform="translate( -46.98046875, 13.25)" height="18.5" width="93.9609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String name</span></div></foreignObject></g></g><g transform="translate(222.625, 59.25)" id="classId-Environment-11" class="node default"><rect height="102.5" width="111.328125" y="-51.25" x="-55.6640625" class="outer title-state"/><line y2="-20.75" y1="-20.75" x2="55.6640625" x1="-55.6640625" class="divider"/><line y2="40.25" y1="40.25" x2="55.6640625" x1="-55.6640625" class="divider"/><g class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject><foreignObject transform="translate( -48.1640625, -43.75)" height="18.5" width="96.328125" class="classTitle"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Environment</span></div></foreignObject><foreignObject transform="translate( -48.1640625, -9.25)" height="18.5" width="68.28125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String id</span></div></foreignObject><foreignObject transform="translate( -48.1640625, 13.25)" height="18.5" width="93.9609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">+String name</span></div></foreignObject></g></g></g></g></g></svg>




